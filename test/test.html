<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>头部信息</title>
</head>
<body>
<h1>
    <div id="uploadForm">
        <input id="t_file" type="file" accept="image/*"/>
        <img id="show_img" src="" width="40" height="40" hidden/>
    </div>
</h1>

<script type="text/javascript" src="/Public/bootstrap/js/jquery.min.js" ></script>
<script type="text/javascript">
    $("#t_file").change(function(){
        var formData = new FormData();
        formData.append('file', $('#t_file')[0].files[0]);
        $.ajax({
            url: '/a.php',
            type: 'POST',
            cache: false,
            data: formData,
            processData: false,
            contentType: false,
            dataType: 'json',
            timeout: 10000,
        }).done(function(data) {
            // 返回了地址证明成功了
            if(data.url) {
                $("#show_img").show();
                $("#show_img").attr('src', data.url);
            }
            else {
                alert(data.msg);
            }
        }).fail(function(res) {
            alert("网络过慢");
        });
    })

</script>
</body>
</html>